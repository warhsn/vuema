"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),E=require("./errors-BSvFB-p5.cjs"),N=require("./field-error.vue_vue_type_script_setup_true_lang-DddrtrU-.cjs"),S=require("./sizes-CcrdSSeT.cjs"),L={class:"field has-addons"},z={class:"control"},D=["disabled","value"],w=["value"],T=["placeholder","disabled","value"],q=e.defineComponent({__name:"phone-input",props:{modelValue:{},placeholder:{default:"Enter phone number"},classes:{},disabled:{type:Boolean},forLabel:{},required:{type:Boolean},isLoading:{type:Boolean},isRounded:{type:Boolean},autocomplete:{type:Boolean},icon:{},iconType:{},iconPack:{},textIcon:{type:Boolean},leftIcon:{},iconClasses:{},leftIconClass:{},leftIconType:{},rightIconClass:{},rightIcon:{},rightIconType:{},error:{},hasAddons:{type:Boolean},isNormal:{type:Boolean},isSmall:{type:Boolean},isMedium:{type:Boolean},isLarge:{type:Boolean},isResponsive:{type:Boolean},isExpanded:{type:Boolean},isFullwidth:{type:Boolean},is0:{type:Boolean},is1:{type:Boolean},is2:{type:Boolean},is3:{type:Boolean},is4:{type:Boolean},is5:{type:Boolean},is6:{type:Boolean},is7:{type:Boolean},is8:{type:Boolean},is9:{type:Boolean},is10:{type:Boolean},is11:{type:Boolean},is12:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup(f,{emit:h}){const r=f,s=h,c=S.useSizes(r),i=E._hasErrors(r),u={1:{pattern:/^(\d{3})(\d{3})(\d{4})$/,format:"($1) $2-$3",maxLength:10},44:{pattern:/^(\d{2,4})(\d{6,8})$/,format:"$1 $2",maxLength:11},49:{pattern:/^(\d{3,4})(\d{6,8})$/,format:"$1 $2",maxLength:11},33:{pattern:/^(\d{1})(\d{2})(\d{2})(\d{2})(\d{2})$/,format:"$1 $2 $3 $4 $5",maxLength:9},61:{pattern:/^(\d{1})(\d{4})(\d{4})$/,format:"$1 $2 $3",maxLength:9}},m=[{code:"+1",name:"United States/Canada"},{code:"+7",name:"Russia"},{code:"+20",name:"Egypt"},{code:"+27",name:"South Africa"},{code:"+30",name:"Greece"},{code:"+31",name:"Netherlands"},{code:"+32",name:"Belgium"},{code:"+33",name:"France"},{code:"+34",name:"Spain"},{code:"+36",name:"Hungary"},{code:"+39",name:"Italy"},{code:"+40",name:"Romania"},{code:"+41",name:"Switzerland"},{code:"+43",name:"Austria"},{code:"+44",name:"United Kingdom"},{code:"+45",name:"Denmark"},{code:"+46",name:"Sweden"},{code:"+47",name:"Norway"},{code:"+48",name:"Poland"},{code:"+49",name:"Germany"},{code:"+52",name:"Mexico"},{code:"+55",name:"Brazil"},{code:"+60",name:"Malaysia"},{code:"+61",name:"Australia"},{code:"+62",name:"Indonesia"},{code:"+63",name:"Philippines"},{code:"+65",name:"Singapore"},{code:"+66",name:"Thailand"},{code:"+81",name:"Japan"},{code:"+82",name:"South Korea"},{code:"+84",name:"Vietnam"},{code:"+86",name:"China"},{code:"+90",name:"Turkey"},{code:"+91",name:"India"},{code:"+351",name:"Portugal"},{code:"+353",name:"Ireland"},{code:"+354",name:"Iceland"},{code:"+358",name:"Finland"},{code:"+370",name:"Lithuania"},{code:"+371",name:"Latvia"},{code:"+372",name:"Estonia"},{code:"+385",name:"Croatia"},{code:"+386",name:"Slovenia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+852",name:"Hong Kong"},{code:"+853",name:"Macau"},{code:"+886",name:"Taiwan"},{code:"+966",name:"Saudi Arabia"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"}];function v(o){if(!o)return"";const n=(r.countryCode||"").replace(/\D/g,""),t=u[n];if(t){const l=o.match(t.pattern);if(l)return t.format.replace(/\$(\d)/g,(a,y)=>l[parseInt(y)])}return o.length>6?`${o.slice(0,3)} ${o.slice(3,6)} ${o.slice(6)}`:o.length>3?`${o.slice(0,3)} ${o.slice(3)}`:o}const d=e.computed(()=>{if(!r.modelValue)return"";const o=m.filter(n=>r.modelValue.startsWith(n.code)).sort((n,t)=>t.code.length-n.code.length)[0];return(o==null?void 0:o.code)||""}),p=e.computed(()=>r.modelValue?d.value?r.modelValue.replace(d.value,"").replace(/\D/g,""):r.modelValue.replace(/\D/g,""):"");function B(o){const t=o.target.value.replace(/\D/g,""),l=d.value.replace(/\D/g,""),a=u[l];if(a&&t.length>a.maxLength){const k=t.slice(0,a.maxLength),I=d.value+k;s("update:modelValue",I);return}const y=d.value+t;s("update:modelValue",y)}function C(o){const l=o.target.value+p.value;s("update:modelValue",l)}const $=e.computed(()=>v(p.value));e.computed(()=>{const o=d.value.replace(/\D/g,""),n=p.value;if(!o||!n||!m.map(a=>a.code.replace(/\D/g,"")).includes(o))return!1;const l=u[o];return l?n.length===l.maxLength&&l.pattern.test(n):n.length>=7&&n.length<=15});const V=e.computed(()=>({"is-danger":i.value,"is-rounded":r.isRounded,...c})),b=e.computed(()=>({"is-danger":i.value,"is-rounded":r.isRounded,...c})),g=e.computed(()=>{const{"is-expanded":o,...n}=c;return{"is-danger":i.value,"is-rounded":r.isRounded,...n}});return(o,n)=>{const t=e.resolveComponent("field-label"),l=e.resolveComponent("b-icon");return e.openBlock(),e.createElementBlock("div",null,[o.$slots.default||o.$slots.description?(e.openBlock(),e.createBlock(t,{key:0,required:o.required},{description:e.withCtx(()=>[e.renderSlot(o.$slots,"description")]),default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},8,["required"])):e.createCommentVNode("",!0),e.createElementVNode("div",L,[o.$slots.left?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["control",g.value])},[e.renderSlot(o.$slots,"left")],2)):e.createCommentVNode("",!0),e.createElementVNode("div",z,[e.createElementVNode("div",{class:e.normalizeClass(["select",b.value]),style:{"min-width":"60px"}},[e.createElementVNode("select",{disabled:o.disabled,value:d.value,onChange:C,onFocus:n[0]||(n[0]=a=>s("focus")),onBlur:n[1]||(n[1]=a=>s("blur"))},[n[4]||(n[4]=e.createElementVNode("option",{value:""},"Code",-1)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(m,a=>e.createElementVNode("option",{key:a.code,value:a.code},e.toDisplayString(a.code),9,w)),64))],40,D)],2)]),e.createElementVNode("div",{class:e.normalizeClass(["control",{"has-icons-left":o.leftIcon,"has-icons-right":o.rightIcon,"is-loading":o.isLoading,"is-expanded":o.isExpanded}])},[e.createElementVNode("input",{class:e.normalizeClass(["input",V.value]),type:"tel",placeholder:o.placeholder,disabled:o.disabled,value:$.value,onInput:B,onFocus:n[2]||(n[2]=a=>s("focus")),onBlur:n[3]||(n[3]=a=>s("blur"))},null,42,T),o.leftIcon?(e.openBlock(),e.createBlock(l,{key:0,class:"icon is-small is-left",icon:o.leftIcon,"icon-type":o.leftIconType},null,8,["icon","icon-type"])):e.createCommentVNode("",!0),o.rightIcon?(e.openBlock(),e.createBlock(l,{key:1,class:"icon is-small is-right",icon:o.rightIcon,"icon-type":o.rightIconType},null,8,["icon","icon-type"])):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"inner")],2),o.$slots.right?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["control",g.value])},[e.renderSlot(o.$slots,"right")],2)):e.createCommentVNode("",!0)]),e.createVNode(N._sfc_main,{error:o.error},null,8,["error"])])}}});exports.default=q;
