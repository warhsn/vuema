"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),E=require("./errors-BSvFB-p5.cjs"),N=require("./field-error.vue_vue_type_script_setup_true_lang-DddrtrU-.cjs"),S=require("./sizes-CcrdSSeT.cjs"),L={class:"field has-addons"},z={class:"control"},D=["disabled","value"],x=["value"],w=["placeholder","disabled","value"],T=e.defineComponent({__name:"phone-input",props:{modelValue:{},placeholder:{default:"Enter phone number"},classes:{},disabled:{type:Boolean},forLabel:{},required:{type:Boolean},isLoading:{type:Boolean},isRounded:{type:Boolean},autocomplete:{type:Boolean},icon:{},iconType:{},iconPack:{},textIcon:{type:Boolean},leftIcon:{},iconClasses:{},leftIconClass:{},leftIconType:{},rightIconClass:{},rightIcon:{},rightIconType:{},error:{},hasAddons:{type:Boolean},isNormal:{type:Boolean},isSmall:{type:Boolean},isMedium:{type:Boolean},isLarge:{type:Boolean},isResponsive:{type:Boolean},isExpanded:{type:Boolean},isFullwidth:{type:Boolean},is0:{type:Boolean},is1:{type:Boolean},is2:{type:Boolean},is3:{type:Boolean},is4:{type:Boolean},is5:{type:Boolean},is6:{type:Boolean},is7:{type:Boolean},is8:{type:Boolean},is9:{type:Boolean},is10:{type:Boolean},is11:{type:Boolean},is12:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup(t,{emit:v}){const r=t,c=v,i=S.useSizes(r),u=E._hasErrors(r),m={1:{pattern:/^(\d{3})(\d{3})(\d{4})$/,format:"($1) $2-$3",maxLength:10},44:{pattern:/^(\d{2,4})(\d{6,8})$/,format:"$1 $2",maxLength:11},49:{pattern:/^(\d{3,4})(\d{6,8})$/,format:"$1 $2",maxLength:11},33:{pattern:/^(\d{1})(\d{2})(\d{2})(\d{2})(\d{2})$/,format:"$1 $2 $3 $4 $5",maxLength:9},61:{pattern:/^(\d{1})(\d{4})(\d{4})$/,format:"$1 $2 $3",maxLength:9}},p=[{code:"+1",name:"United States/Canada"},{code:"+7",name:"Russia"},{code:"+20",name:"Egypt"},{code:"+27",name:"South Africa"},{code:"+30",name:"Greece"},{code:"+31",name:"Netherlands"},{code:"+32",name:"Belgium"},{code:"+33",name:"France"},{code:"+34",name:"Spain"},{code:"+36",name:"Hungary"},{code:"+39",name:"Italy"},{code:"+40",name:"Romania"},{code:"+41",name:"Switzerland"},{code:"+43",name:"Austria"},{code:"+44",name:"United Kingdom"},{code:"+45",name:"Denmark"},{code:"+46",name:"Sweden"},{code:"+47",name:"Norway"},{code:"+48",name:"Poland"},{code:"+49",name:"Germany"},{code:"+52",name:"Mexico"},{code:"+55",name:"Brazil"},{code:"+60",name:"Malaysia"},{code:"+61",name:"Australia"},{code:"+62",name:"Indonesia"},{code:"+63",name:"Philippines"},{code:"+65",name:"Singapore"},{code:"+66",name:"Thailand"},{code:"+81",name:"Japan"},{code:"+82",name:"South Korea"},{code:"+84",name:"Vietnam"},{code:"+86",name:"China"},{code:"+90",name:"Turkey"},{code:"+91",name:"India"},{code:"+351",name:"Portugal"},{code:"+353",name:"Ireland"},{code:"+354",name:"Iceland"},{code:"+358",name:"Finland"},{code:"+370",name:"Lithuania"},{code:"+371",name:"Latvia"},{code:"+372",name:"Estonia"},{code:"+385",name:"Croatia"},{code:"+386",name:"Slovenia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+420",name:"Czech Republic"},{code:"+421",name:"Slovakia"},{code:"+852",name:"Hong Kong"},{code:"+853",name:"Macau"},{code:"+886",name:"Taiwan"},{code:"+966",name:"Saudi Arabia"},{code:"+971",name:"UAE"},{code:"+972",name:"Israel"}];function B(o,n){if(!o)return"";const l=n.replace(/\D/g,""),d=m[l];if(d){const a=o.match(d.pattern);if(a)return d.format.replace(/\$(\d)/g,(h,g)=>a[parseInt(g)])}return o.length>6?`${o.slice(0,3)} ${o.slice(3,6)} ${o.slice(6)}`:o.length>3?`${o.slice(0,3)} ${o.slice(3)}`:o}const s=e.computed(()=>{if(!r.modelValue)return"";const o=p.filter(n=>{var l;return(l=r.modelValue)==null?void 0:l.startsWith(n.code)}).sort((n,l)=>l.code.length-n.code.length)[0];return(o==null?void 0:o.code)||""}),y=e.computed(()=>r.modelValue?s.value?r.modelValue.replace(s.value,"").replace(/\D/g,""):r.modelValue.replace(/\D/g,""):"");function C(o){const l=o.target.value.replace(/\D/g,""),d=s.value.replace(/\D/g,""),a=m[d];if(a&&l.length>a.maxLength){const g=l.slice(0,a.maxLength),I=s.value+g;c("update:modelValue",I);return}const h=s.value+l;c("update:modelValue",h)}function $(o){const d=o.target.value+y.value;c("update:modelValue",d)}const V=e.computed(()=>B(y.value,s.value));e.computed(()=>{const o=s.value.replace(/\D/g,""),n=y.value;if(!o||!n||!p.map(a=>a.code.replace(/\D/g,"")).includes(o))return!1;const d=m[o];return d?n.length===d.maxLength&&d.pattern.test(n):n.length>=7&&n.length<=15});const b=e.computed(()=>({"is-danger":u.value,"is-rounded":r.isRounded,...i})),k=e.computed(()=>({"is-danger":u.value,"is-rounded":r.isRounded,...i})),f=e.computed(()=>{const{"is-expanded":o,...n}=i;return{"is-danger":u.value,"is-rounded":r.isRounded,...n}});return(o,n)=>{const l=e.resolveComponent("field-label"),d=e.resolveComponent("b-icon");return e.openBlock(),e.createElementBlock("div",null,[o.$slots.default||o.$slots.description?(e.openBlock(),e.createBlock(l,{key:0,required:t.required},{description:e.withCtx(()=>[e.renderSlot(o.$slots,"description")]),default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},8,["required"])):e.createCommentVNode("",!0),e.createElementVNode("div",L,[o.$slots.left?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["control",f.value])},[e.renderSlot(o.$slots,"left")],2)):e.createCommentVNode("",!0),e.createElementVNode("div",z,[e.createElementVNode("div",{class:e.normalizeClass(["select",k.value]),style:{"min-width":"60px"}},[e.createElementVNode("select",{disabled:t.disabled,value:s.value,onChange:$,onFocus:n[0]||(n[0]=a=>c("focus")),onBlur:n[1]||(n[1]=a=>c("blur"))},[n[4]||(n[4]=e.createElementVNode("option",{value:""},"Code",-1)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(p,a=>e.createElementVNode("option",{key:a.code,value:a.code},e.toDisplayString(a.code),9,x)),64))],40,D)],2)]),e.createElementVNode("div",{class:e.normalizeClass(["control",{"has-icons-left":t.leftIcon,"has-icons-right":t.rightIcon,"is-loading":t.isLoading,"is-expanded":t.isExpanded}])},[e.createElementVNode("input",{class:e.normalizeClass(["input",b.value]),type:"tel",placeholder:t.placeholder,disabled:t.disabled,value:V.value,onInput:C,onFocus:n[2]||(n[2]=a=>c("focus")),onBlur:n[3]||(n[3]=a=>c("blur"))},null,42,w),t.leftIcon?(e.openBlock(),e.createBlock(d,{key:0,class:"icon is-small is-left",icon:t.leftIcon,"icon-type":t.leftIconType},null,8,["icon","icon-type"])):e.createCommentVNode("",!0),t.rightIcon?(e.openBlock(),e.createBlock(d,{key:1,class:"icon is-small is-right",icon:t.rightIcon,"icon-type":t.rightIconType},null,8,["icon","icon-type"])):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"inner")],2),o.$slots.right?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["control",f.value])},[e.renderSlot(o.$slots,"right")],2)):e.createCommentVNode("",!0)]),e.createVNode(N._sfc_main,{error:t.error},null,8,["error"])])}}});exports.default=T;
